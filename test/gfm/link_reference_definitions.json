[
  {
    "description": "Link reference definitions, https://github.github.com/gfm/#example-161",
    "markdown": "[foo]: /url \"title\"\n\n[foo]\n",
    "expected": [
      {
        "type": "linkReferenceDefinition",
        "start": {
          "line": 0,
          "column": 0,
          "offset": 0
        },
        "end": {
          "line": 0,
          "column": 19,
          "offset": 19
        },
        "markers": [
          {
            "start": {
              "line": 0,
              "column": 0,
              "offset": 0
            },
            "end": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "text": "["
          },
          {
            "start": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "end": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "text": "]"
          },
          {
            "start": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "end": {
              "line": 0,
              "column": 6,
              "offset": 6
            },
            "text": ":"
          },
          {
            "start": {
              "line": 0,
              "column": 7,
              "offset": 7
            },
            "end": {
              "line": 0,
              "column": 11,
              "offset": 11
            },
            "text": "/url"
          },
          {
            "start": {
              "line": 0,
              "column": 12,
              "offset": 12
            },
            "end": {
              "line": 0,
              "column": 13,
              "offset": 13
            },
            "text": "\""
          },
          {
            "start": {
              "line": 0,
              "column": 13,
              "offset": 13
            },
            "end": {
              "line": 0,
              "column": 18,
              "offset": 18
            },
            "text": "title"
          },
          {
            "start": {
              "line": 0,
              "column": 18,
              "offset": 18
            },
            "end": {
              "line": 0,
              "column": 19,
              "offset": 19
            },
            "text": "\""
          }
        ],
        "children": [
          {
            "type": "linkReferenceDefinitionLabel",
            "start": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "end": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 0,
                  "column": 1,
                  "offset": 1
                },
                "end": {
                  "line": 0,
                  "column": 4,
                  "offset": 4
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionDestination",
            "start": {
              "line": 0,
              "column": 7,
              "offset": 7
            },
            "end": {
              "line": 0,
              "column": 11,
              "offset": 11
            },
            "children": [
              {
                "text": "/url",
                "start": {
                  "line": 0,
                  "column": 7,
                  "offset": 7
                },
                "end": {
                  "line": 0,
                  "column": 11,
                  "offset": 11
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionTitle",
            "start": {
              "line": 0,
              "column": 13,
              "offset": 13
            },
            "end": {
              "line": 0,
              "column": 18,
              "offset": 18
            },
            "children": [
              {
                "text": "title",
                "start": {
                  "line": 0,
                  "column": 13,
                  "offset": 13
                },
                "end": {
                  "line": 0,
                  "column": 18,
                  "offset": 18
                }
              }
            ]
          }
        ]
      },
      {
        "type": "paragraph",
        "start": {
          "line": 2,
          "column": 0,
          "offset": 21
        },
        "end": {
          "line": 2,
          "column": 5,
          "offset": 26
        },
        "children": [
          {
            "type": "link",
            "start": {
              "line": 2,
              "column": 0,
              "offset": 21
            },
            "end": {
              "line": 2,
              "column": 5,
              "offset": 26
            },
            "markers": [
              {
                "start": {
                  "line": 2,
                  "column": 0,
                  "offset": 21
                },
                "end": {
                  "line": 2,
                  "column": 1,
                  "offset": 22
                },
                "text": "["
              },
              {
                "start": {
                  "line": 2,
                  "column": 4,
                  "offset": 25
                },
                "end": {
                  "line": 2,
                  "column": 5,
                  "offset": 26
                },
                "text": "]"
              }
            ],
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 2,
                  "column": 1,
                  "offset": 22
                },
                "end": {
                  "line": 2,
                  "column": 4,
                  "offset": 25
                }
              }
            ],
            "attributes": {
              "destination": "/url",
              "title": "title"
            }
          }
        ]
      }
    ]
  },
  {
    "description": "Link reference definitions, https://github.github.com/gfm/#example-162",
    "markdown": "   [foo]: \n      /url  \n           'the title'  \n\n[foo]\n",
    "expected": [
      {
        "type": "linkReferenceDefinition",
        "start": {
          "line": 0,
          "column": 3,
          "offset": 3
        },
        "end": {
          "line": 2,
          "column": 22,
          "offset": 46
        },
        "markers": [
          {
            "start": {
              "line": 0,
              "column": 3,
              "offset": 3
            },
            "end": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "text": "["
          },
          {
            "start": {
              "line": 0,
              "column": 7,
              "offset": 7
            },
            "end": {
              "line": 0,
              "column": 8,
              "offset": 8
            },
            "text": "]"
          },
          {
            "start": {
              "line": 0,
              "column": 8,
              "offset": 8
            },
            "end": {
              "line": 0,
              "column": 9,
              "offset": 9
            },
            "text": ":"
          },
          {
            "start": {
              "line": 1,
              "column": 6,
              "offset": 17
            },
            "end": {
              "line": 1,
              "column": 10,
              "offset": 21
            },
            "text": "/url"
          },
          {
            "start": {
              "line": 2,
              "column": 11,
              "offset": 35
            },
            "end": {
              "line": 2,
              "column": 12,
              "offset": 36
            },
            "text": "'"
          },
          {
            "start": {
              "line": 2,
              "column": 12,
              "offset": 36
            },
            "end": {
              "line": 2,
              "column": 21,
              "offset": 45
            },
            "text": "the title"
          },
          {
            "start": {
              "line": 2,
              "column": 21,
              "offset": 45
            },
            "end": {
              "line": 2,
              "column": 22,
              "offset": 46
            },
            "text": "'"
          }
        ],
        "children": [
          {
            "type": "linkReferenceDefinitionLabel",
            "start": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "end": {
              "line": 0,
              "column": 7,
              "offset": 7
            },
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 0,
                  "column": 4,
                  "offset": 4
                },
                "end": {
                  "line": 0,
                  "column": 7,
                  "offset": 7
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionDestination",
            "start": {
              "line": 1,
              "column": 6,
              "offset": 17
            },
            "end": {
              "line": 1,
              "column": 10,
              "offset": 21
            },
            "children": [
              {
                "text": "/url",
                "start": {
                  "line": 1,
                  "column": 6,
                  "offset": 17
                },
                "end": {
                  "line": 1,
                  "column": 10,
                  "offset": 21
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionTitle",
            "start": {
              "line": 2,
              "column": 12,
              "offset": 36
            },
            "end": {
              "line": 2,
              "column": 21,
              "offset": 45
            },
            "children": [
              {
                "text": "the title",
                "start": {
                  "line": 2,
                  "column": 12,
                  "offset": 36
                },
                "end": {
                  "line": 2,
                  "column": 21,
                  "offset": 45
                }
              }
            ]
          }
        ]
      },
      {
        "type": "paragraph",
        "start": {
          "line": 4,
          "column": 0,
          "offset": 50
        },
        "end": {
          "line": 4,
          "column": 5,
          "offset": 55
        },
        "children": [
          {
            "type": "link",
            "start": {
              "line": 4,
              "column": 0,
              "offset": 50
            },
            "end": {
              "line": 4,
              "column": 5,
              "offset": 55
            },
            "markers": [
              {
                "start": {
                  "line": 4,
                  "column": 0,
                  "offset": 50
                },
                "end": {
                  "line": 4,
                  "column": 1,
                  "offset": 51
                },
                "text": "["
              },
              {
                "start": {
                  "line": 4,
                  "column": 4,
                  "offset": 54
                },
                "end": {
                  "line": 4,
                  "column": 5,
                  "offset": 55
                },
                "text": "]"
              }
            ],
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 4,
                  "column": 1,
                  "offset": 51
                },
                "end": {
                  "line": 4,
                  "column": 4,
                  "offset": 54
                }
              }
            ],
            "attributes": {
              "destination": "/url",
              "title": "the title"
            }
          }
        ]
      }
    ]
  },
  {
    "description": "Link reference definitions, https://github.github.com/gfm/#example-163",
    "markdown": "[Foo*bar\\]]:my_(url) 'title (with parens)'\n\n[Foo*bar\\]]\n",
    "expected": [
      {
        "type": "linkReferenceDefinition",
        "start": {
          "line": 0,
          "column": 0,
          "offset": 0
        },
        "end": {
          "line": 0,
          "column": 42,
          "offset": 42
        },
        "markers": [
          {
            "start": {
              "line": 0,
              "column": 0,
              "offset": 0
            },
            "end": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "text": "["
          },
          {
            "start": {
              "line": 0,
              "column": 10,
              "offset": 10
            },
            "end": {
              "line": 0,
              "column": 11,
              "offset": 11
            },
            "text": "]"
          },
          {
            "start": {
              "line": 0,
              "column": 11,
              "offset": 11
            },
            "end": {
              "line": 0,
              "column": 12,
              "offset": 12
            },
            "text": ":"
          },
          {
            "start": {
              "line": 0,
              "column": 12,
              "offset": 12
            },
            "end": {
              "line": 0,
              "column": 20,
              "offset": 20
            },
            "text": "my_(url)"
          },
          {
            "start": {
              "line": 0,
              "column": 21,
              "offset": 21
            },
            "end": {
              "line": 0,
              "column": 22,
              "offset": 22
            },
            "text": "'"
          },
          {
            "start": {
              "line": 0,
              "column": 22,
              "offset": 22
            },
            "end": {
              "line": 0,
              "column": 41,
              "offset": 41
            },
            "text": "title (with parens)"
          },
          {
            "start": {
              "line": 0,
              "column": 41,
              "offset": 41
            },
            "end": {
              "line": 0,
              "column": 42,
              "offset": 42
            },
            "text": "'"
          }
        ],
        "children": [
          {
            "type": "linkReferenceDefinitionLabel",
            "start": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "end": {
              "line": 0,
              "column": 10,
              "offset": 10
            },
            "children": [
              {
                "text": "Foo*bar\\]",
                "start": {
                  "line": 0,
                  "column": 1,
                  "offset": 1
                },
                "end": {
                  "line": 0,
                  "column": 10,
                  "offset": 10
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionDestination",
            "start": {
              "line": 0,
              "column": 12,
              "offset": 12
            },
            "end": {
              "line": 0,
              "column": 20,
              "offset": 20
            },
            "children": [
              {
                "text": "my_(url)",
                "start": {
                  "line": 0,
                  "column": 12,
                  "offset": 12
                },
                "end": {
                  "line": 0,
                  "column": 20,
                  "offset": 20
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionTitle",
            "start": {
              "line": 0,
              "column": 22,
              "offset": 22
            },
            "end": {
              "line": 0,
              "column": 41,
              "offset": 41
            },
            "children": [
              {
                "text": "title (with parens)",
                "start": {
                  "line": 0,
                  "column": 22,
                  "offset": 22
                },
                "end": {
                  "line": 0,
                  "column": 41,
                  "offset": 41
                }
              }
            ]
          }
        ]
      },
      {
        "type": "paragraph",
        "start": {
          "line": 2,
          "column": 0,
          "offset": 44
        },
        "end": {
          "line": 2,
          "column": 11,
          "offset": 55
        },
        "children": [
          {
            "type": "link",
            "start": {
              "line": 2,
              "column": 0,
              "offset": 44
            },
            "end": {
              "line": 2,
              "column": 11,
              "offset": 55
            },
            "markers": [
              {
                "start": {
                  "line": 2,
                  "column": 0,
                  "offset": 44
                },
                "end": {
                  "line": 2,
                  "column": 1,
                  "offset": 45
                },
                "text": "["
              },
              {
                "start": {
                  "line": 2,
                  "column": 8,
                  "offset": 52
                },
                "end": {
                  "line": 2,
                  "column": 9,
                  "offset": 53
                },
                "text": "\\"
              },
              {
                "start": {
                  "line": 2,
                  "column": 10,
                  "offset": 54
                },
                "end": {
                  "line": 2,
                  "column": 11,
                  "offset": 55
                },
                "text": "]"
              }
            ],
            "children": [
              {
                "text": "Foo",
                "start": {
                  "line": 2,
                  "column": 1,
                  "offset": 45
                },
                "end": {
                  "line": 2,
                  "column": 4,
                  "offset": 48
                }
              },
              {
                "text": "*",
                "start": {
                  "line": 2,
                  "column": 4,
                  "offset": 48
                },
                "end": {
                  "line": 2,
                  "column": 5,
                  "offset": 49
                }
              },
              {
                "text": "bar",
                "start": {
                  "line": 2,
                  "column": 5,
                  "offset": 49
                },
                "end": {
                  "line": 2,
                  "column": 8,
                  "offset": 52
                }
              },
              {
                "text": "]",
                "start": {
                  "line": 2,
                  "column": 9,
                  "offset": 53
                },
                "end": {
                  "line": 2,
                  "column": 10,
                  "offset": 54
                }
              }
            ],
            "attributes": {
              "destination": "my_(url)",
              "title": "title (with parens)"
            }
          }
        ]
      }
    ]
  },
  {
    "description": "Link reference definitions, https://github.github.com/gfm/#example-164",
    "markdown": "[Foo bar]:\n<my url>\n'title'\n\n[Foo bar]\n",
    "expected": [
      {
        "type": "linkReferenceDefinition",
        "start": {
          "line": 0,
          "column": 0,
          "offset": 0
        },
        "end": {
          "line": 2,
          "column": 7,
          "offset": 27
        },
        "markers": [
          {
            "start": {
              "line": 0,
              "column": 0,
              "offset": 0
            },
            "end": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "text": "["
          },
          {
            "start": {
              "line": 0,
              "column": 8,
              "offset": 8
            },
            "end": {
              "line": 0,
              "column": 9,
              "offset": 9
            },
            "text": "]"
          },
          {
            "start": {
              "line": 0,
              "column": 9,
              "offset": 9
            },
            "end": {
              "line": 0,
              "column": 10,
              "offset": 10
            },
            "text": ":"
          },
          {
            "start": {
              "line": 1,
              "column": 0,
              "offset": 11
            },
            "end": {
              "line": 1,
              "column": 1,
              "offset": 12
            },
            "text": "<"
          },
          {
            "start": {
              "line": 1,
              "column": 1,
              "offset": 12
            },
            "end": {
              "line": 1,
              "column": 7,
              "offset": 18
            },
            "text": "my url"
          },
          {
            "start": {
              "line": 1,
              "column": 7,
              "offset": 18
            },
            "end": {
              "line": 1,
              "column": 8,
              "offset": 19
            },
            "text": ">"
          },
          {
            "start": {
              "line": 2,
              "column": 0,
              "offset": 20
            },
            "end": {
              "line": 2,
              "column": 1,
              "offset": 21
            },
            "text": "'"
          },
          {
            "start": {
              "line": 2,
              "column": 1,
              "offset": 21
            },
            "end": {
              "line": 2,
              "column": 6,
              "offset": 26
            },
            "text": "title"
          },
          {
            "start": {
              "line": 2,
              "column": 6,
              "offset": 26
            },
            "end": {
              "line": 2,
              "column": 7,
              "offset": 27
            },
            "text": "'"
          }
        ],
        "children": [
          {
            "type": "linkReferenceDefinitionLabel",
            "start": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "end": {
              "line": 0,
              "column": 8,
              "offset": 8
            },
            "children": [
              {
                "text": "Foo bar",
                "start": {
                  "line": 0,
                  "column": 1,
                  "offset": 1
                },
                "end": {
                  "line": 0,
                  "column": 8,
                  "offset": 8
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionDestination",
            "start": {
              "line": 1,
              "column": 1,
              "offset": 12
            },
            "end": {
              "line": 1,
              "column": 7,
              "offset": 18
            },
            "children": [
              {
                "text": "my url",
                "start": {
                  "line": 1,
                  "column": 1,
                  "offset": 12
                },
                "end": {
                  "line": 1,
                  "column": 7,
                  "offset": 18
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionTitle",
            "start": {
              "line": 2,
              "column": 1,
              "offset": 21
            },
            "end": {
              "line": 2,
              "column": 6,
              "offset": 26
            },
            "children": [
              {
                "text": "title",
                "start": {
                  "line": 2,
                  "column": 1,
                  "offset": 21
                },
                "end": {
                  "line": 2,
                  "column": 6,
                  "offset": 26
                }
              }
            ]
          }
        ]
      },
      {
        "type": "paragraph",
        "start": {
          "line": 4,
          "column": 0,
          "offset": 29
        },
        "end": {
          "line": 4,
          "column": 9,
          "offset": 38
        },
        "children": [
          {
            "type": "link",
            "start": {
              "line": 4,
              "column": 0,
              "offset": 29
            },
            "end": {
              "line": 4,
              "column": 9,
              "offset": 38
            },
            "markers": [
              {
                "start": {
                  "line": 4,
                  "column": 0,
                  "offset": 29
                },
                "end": {
                  "line": 4,
                  "column": 1,
                  "offset": 30
                },
                "text": "["
              },
              {
                "start": {
                  "line": 4,
                  "column": 8,
                  "offset": 37
                },
                "end": {
                  "line": 4,
                  "column": 9,
                  "offset": 38
                },
                "text": "]"
              }
            ],
            "children": [
              {
                "text": "Foo bar",
                "start": {
                  "line": 4,
                  "column": 1,
                  "offset": 30
                },
                "end": {
                  "line": 4,
                  "column": 8,
                  "offset": 37
                }
              }
            ],
            "attributes": {
              "destination": "my%20url",
              "title": "title"
            }
          }
        ]
      }
    ]
  },
  {
    "description": "Link reference definitions, https://github.github.com/gfm/#example-165",
    "markdown": "[foo]: /url '\ntitle\nline1\nline2\n'\n\n[foo]\n",
    "expected": [
      {
        "type": "linkReferenceDefinition",
        "start": {
          "line": 0,
          "column": 0,
          "offset": 0
        },
        "end": {
          "line": 4,
          "column": 1,
          "offset": 33
        },
        "markers": [
          {
            "start": {
              "line": 0,
              "column": 0,
              "offset": 0
            },
            "end": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "text": "["
          },
          {
            "start": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "end": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "text": "]"
          },
          {
            "start": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "end": {
              "line": 0,
              "column": 6,
              "offset": 6
            },
            "text": ":"
          },
          {
            "start": {
              "line": 0,
              "column": 7,
              "offset": 7
            },
            "end": {
              "line": 0,
              "column": 11,
              "offset": 11
            },
            "text": "/url"
          },
          {
            "start": {
              "line": 0,
              "column": 12,
              "offset": 12
            },
            "end": {
              "line": 0,
              "column": 13,
              "offset": 13
            },
            "text": "'"
          },
          {
            "start": {
              "line": 0,
              "column": 13,
              "offset": 13
            },
            "end": {
              "line": 1,
              "column": 0,
              "offset": 14
            },
            "text": "\n"
          },
          {
            "start": {
              "line": 1,
              "column": 0,
              "offset": 14
            },
            "end": {
              "line": 1,
              "column": 5,
              "offset": 19
            },
            "text": "title"
          },
          {
            "start": {
              "line": 1,
              "column": 5,
              "offset": 19
            },
            "end": {
              "line": 2,
              "column": 0,
              "offset": 20
            },
            "text": "\n"
          },
          {
            "start": {
              "line": 2,
              "column": 0,
              "offset": 20
            },
            "end": {
              "line": 2,
              "column": 5,
              "offset": 25
            },
            "text": "line1"
          },
          {
            "start": {
              "line": 2,
              "column": 5,
              "offset": 25
            },
            "end": {
              "line": 3,
              "column": 0,
              "offset": 26
            },
            "text": "\n"
          },
          {
            "start": {
              "line": 3,
              "column": 0,
              "offset": 26
            },
            "end": {
              "line": 3,
              "column": 5,
              "offset": 31
            },
            "text": "line2"
          },
          {
            "start": {
              "line": 3,
              "column": 5,
              "offset": 31
            },
            "end": {
              "line": 4,
              "column": 0,
              "offset": 32
            },
            "text": "\n"
          },
          {
            "start": {
              "line": 4,
              "column": 0,
              "offset": 32
            },
            "end": {
              "line": 4,
              "column": 1,
              "offset": 33
            },
            "text": "'"
          }
        ],
        "children": [
          {
            "type": "linkReferenceDefinitionLabel",
            "start": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "end": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 0,
                  "column": 1,
                  "offset": 1
                },
                "end": {
                  "line": 0,
                  "column": 4,
                  "offset": 4
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionDestination",
            "start": {
              "line": 0,
              "column": 7,
              "offset": 7
            },
            "end": {
              "line": 0,
              "column": 11,
              "offset": 11
            },
            "children": [
              {
                "text": "/url",
                "start": {
                  "line": 0,
                  "column": 7,
                  "offset": 7
                },
                "end": {
                  "line": 0,
                  "column": 11,
                  "offset": 11
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionTitle",
            "start": {
              "line": 0,
              "column": 13,
              "offset": 13
            },
            "end": {
              "line": 4,
              "column": 0,
              "offset": 32
            },
            "children": [
              {
                "text": "\n",
                "start": {
                  "line": 0,
                  "column": 13,
                  "offset": 13
                },
                "end": {
                  "line": 1,
                  "column": 0,
                  "offset": 14
                }
              },
              {
                "text": "title",
                "start": {
                  "line": 1,
                  "column": 0,
                  "offset": 14
                },
                "end": {
                  "line": 1,
                  "column": 5,
                  "offset": 19
                }
              },
              {
                "text": "\n",
                "start": {
                  "line": 1,
                  "column": 5,
                  "offset": 19
                },
                "end": {
                  "line": 2,
                  "column": 0,
                  "offset": 20
                }
              },
              {
                "text": "line1",
                "start": {
                  "line": 2,
                  "column": 0,
                  "offset": 20
                },
                "end": {
                  "line": 2,
                  "column": 5,
                  "offset": 25
                }
              },
              {
                "text": "\n",
                "start": {
                  "line": 2,
                  "column": 5,
                  "offset": 25
                },
                "end": {
                  "line": 3,
                  "column": 0,
                  "offset": 26
                }
              },
              {
                "text": "line2",
                "start": {
                  "line": 3,
                  "column": 0,
                  "offset": 26
                },
                "end": {
                  "line": 3,
                  "column": 5,
                  "offset": 31
                }
              },
              {
                "text": "\n",
                "start": {
                  "line": 3,
                  "column": 5,
                  "offset": 31
                },
                "end": {
                  "line": 4,
                  "column": 0,
                  "offset": 32
                }
              }
            ]
          }
        ]
      },
      {
        "type": "paragraph",
        "start": {
          "line": 6,
          "column": 0,
          "offset": 35
        },
        "end": {
          "line": 6,
          "column": 5,
          "offset": 40
        },
        "children": [
          {
            "type": "link",
            "start": {
              "line": 6,
              "column": 0,
              "offset": 35
            },
            "end": {
              "line": 6,
              "column": 5,
              "offset": 40
            },
            "markers": [
              {
                "start": {
                  "line": 6,
                  "column": 0,
                  "offset": 35
                },
                "end": {
                  "line": 6,
                  "column": 1,
                  "offset": 36
                },
                "text": "["
              },
              {
                "start": {
                  "line": 6,
                  "column": 4,
                  "offset": 39
                },
                "end": {
                  "line": 6,
                  "column": 5,
                  "offset": 40
                },
                "text": "]"
              }
            ],
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 6,
                  "column": 1,
                  "offset": 36
                },
                "end": {
                  "line": 6,
                  "column": 4,
                  "offset": 39
                }
              }
            ],
            "attributes": {
              "destination": "/url",
              "title": "\ntitle\nline1\nline2\n"
            }
          }
        ]
      }
    ]
  },
  {
    "description": "Link reference definitions, https://github.github.com/gfm/#example-166",
    "markdown": "[foo]: /url 'title\n\nwith blank line'\n\n[foo]\n",
    "expected": [
      {
        "type": "paragraph",
        "start": {
          "line": 0,
          "column": 0,
          "offset": 0
        },
        "end": {
          "line": 0,
          "column": 18,
          "offset": 18
        },
        "children": [
          {
            "text": "[foo]: /url 'title",
            "start": {
              "line": 0,
              "column": 0,
              "offset": 0
            },
            "end": {
              "line": 0,
              "column": 18,
              "offset": 18
            }
          }
        ]
      },
      {
        "type": "paragraph",
        "start": {
          "line": 2,
          "column": 0,
          "offset": 20
        },
        "end": {
          "line": 2,
          "column": 16,
          "offset": 36
        },
        "children": [
          {
            "text": "with blank line'",
            "start": {
              "line": 2,
              "column": 0,
              "offset": 20
            },
            "end": {
              "line": 2,
              "column": 16,
              "offset": 36
            }
          }
        ]
      },
      {
        "type": "paragraph",
        "start": {
          "line": 4,
          "column": 0,
          "offset": 38
        },
        "end": {
          "line": 4,
          "column": 5,
          "offset": 43
        },
        "children": [
          {
            "text": "[foo]",
            "start": {
              "line": 4,
              "column": 0,
              "offset": 38
            },
            "end": {
              "line": 4,
              "column": 5,
              "offset": 43
            }
          }
        ]
      }
    ]
  },
  {
    "description": "Link reference definitions, https://github.github.com/gfm/#example-167",
    "markdown": "[foo]:\n/url\n\n[foo]\n",
    "expected": [
      {
        "type": "linkReferenceDefinition",
        "start": {
          "line": 0,
          "column": 0,
          "offset": 0
        },
        "end": {
          "line": 1,
          "column": 4,
          "offset": 11
        },
        "markers": [
          {
            "start": {
              "line": 0,
              "column": 0,
              "offset": 0
            },
            "end": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "text": "["
          },
          {
            "start": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "end": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "text": "]"
          },
          {
            "start": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "end": {
              "line": 0,
              "column": 6,
              "offset": 6
            },
            "text": ":"
          },
          {
            "start": {
              "line": 1,
              "column": 0,
              "offset": 7
            },
            "end": {
              "line": 1,
              "column": 4,
              "offset": 11
            },
            "text": "/url"
          }
        ],
        "children": [
          {
            "type": "linkReferenceDefinitionLabel",
            "start": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "end": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 0,
                  "column": 1,
                  "offset": 1
                },
                "end": {
                  "line": 0,
                  "column": 4,
                  "offset": 4
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionDestination",
            "start": {
              "line": 1,
              "column": 0,
              "offset": 7
            },
            "end": {
              "line": 1,
              "column": 4,
              "offset": 11
            },
            "children": [
              {
                "text": "/url",
                "start": {
                  "line": 1,
                  "column": 0,
                  "offset": 7
                },
                "end": {
                  "line": 1,
                  "column": 4,
                  "offset": 11
                }
              }
            ]
          }
        ]
      },
      {
        "type": "paragraph",
        "start": {
          "line": 3,
          "column": 0,
          "offset": 13
        },
        "end": {
          "line": 3,
          "column": 5,
          "offset": 18
        },
        "children": [
          {
            "type": "link",
            "start": {
              "line": 3,
              "column": 0,
              "offset": 13
            },
            "end": {
              "line": 3,
              "column": 5,
              "offset": 18
            },
            "markers": [
              {
                "start": {
                  "line": 3,
                  "column": 0,
                  "offset": 13
                },
                "end": {
                  "line": 3,
                  "column": 1,
                  "offset": 14
                },
                "text": "["
              },
              {
                "start": {
                  "line": 3,
                  "column": 4,
                  "offset": 17
                },
                "end": {
                  "line": 3,
                  "column": 5,
                  "offset": 18
                },
                "text": "]"
              }
            ],
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 3,
                  "column": 1,
                  "offset": 14
                },
                "end": {
                  "line": 3,
                  "column": 4,
                  "offset": 17
                }
              }
            ],
            "attributes": {
              "destination": "/url"
            }
          }
        ]
      }
    ]
  },
  {
    "description": "Link reference definitions, https://github.github.com/gfm/#example-168",
    "markdown": "[foo]:\n\n[foo]\n",
    "expected": [
      {
        "type": "paragraph",
        "start": {
          "line": 0,
          "column": 0,
          "offset": 0
        },
        "end": {
          "line": 0,
          "column": 6,
          "offset": 6
        },
        "children": [
          {
            "text": "[foo]:",
            "start": {
              "line": 0,
              "column": 0,
              "offset": 0
            },
            "end": {
              "line": 0,
              "column": 6,
              "offset": 6
            }
          }
        ]
      },
      {
        "type": "paragraph",
        "start": {
          "line": 2,
          "column": 0,
          "offset": 8
        },
        "end": {
          "line": 2,
          "column": 5,
          "offset": 13
        },
        "children": [
          {
            "text": "[foo]",
            "start": {
              "line": 2,
              "column": 0,
              "offset": 8
            },
            "end": {
              "line": 2,
              "column": 5,
              "offset": 13
            }
          }
        ]
      }
    ]
  },
  {
    "description": "Link reference definitions, https://github.github.com/gfm/#example-169",
    "markdown": "[foo]: <>\n\n[foo]\n",
    "expected": [
      {
        "type": "linkReferenceDefinition",
        "start": {
          "line": 0,
          "column": 0,
          "offset": 0
        },
        "end": {
          "line": 0,
          "column": 9,
          "offset": 9
        },
        "markers": [
          {
            "start": {
              "line": 0,
              "column": 0,
              "offset": 0
            },
            "end": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "text": "["
          },
          {
            "start": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "end": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "text": "]"
          },
          {
            "start": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "end": {
              "line": 0,
              "column": 6,
              "offset": 6
            },
            "text": ":"
          },
          {
            "start": {
              "line": 0,
              "column": 7,
              "offset": 7
            },
            "end": {
              "line": 0,
              "column": 8,
              "offset": 8
            },
            "text": "<"
          },
          {
            "start": {
              "line": 0,
              "column": 8,
              "offset": 8
            },
            "end": {
              "line": 0,
              "column": 9,
              "offset": 9
            },
            "text": ">"
          }
        ],
        "children": [
          {
            "type": "linkReferenceDefinitionLabel",
            "start": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "end": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 0,
                  "column": 1,
                  "offset": 1
                },
                "end": {
                  "line": 0,
                  "column": 4,
                  "offset": 4
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionDestination"
          }
        ]
      },
      {
        "type": "paragraph",
        "start": {
          "line": 2,
          "column": 0,
          "offset": 11
        },
        "end": {
          "line": 2,
          "column": 5,
          "offset": 16
        },
        "children": [
          {
            "type": "link",
            "start": {
              "line": 2,
              "column": 0,
              "offset": 11
            },
            "end": {
              "line": 2,
              "column": 5,
              "offset": 16
            },
            "markers": [
              {
                "start": {
                  "line": 2,
                  "column": 0,
                  "offset": 11
                },
                "end": {
                  "line": 2,
                  "column": 1,
                  "offset": 12
                },
                "text": "["
              },
              {
                "start": {
                  "line": 2,
                  "column": 4,
                  "offset": 15
                },
                "end": {
                  "line": 2,
                  "column": 5,
                  "offset": 16
                },
                "text": "]"
              }
            ],
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 2,
                  "column": 1,
                  "offset": 12
                },
                "end": {
                  "line": 2,
                  "column": 4,
                  "offset": 15
                }
              }
            ],
            "attributes": {
              "destination": ""
            }
          }
        ]
      }
    ]
  },
  {
    "description": "Link reference definitions, https://github.github.com/gfm/#example-170",
    "markdown": "[foo]: <bar>(baz)\n\n[foo]\n",
    "expected": [
      {
        "type": "paragraph",
        "start": {
          "line": 0,
          "column": 0,
          "offset": 0
        },
        "end": {
          "line": 0,
          "column": 17,
          "offset": 17
        },
        "children": [
          {
            "text": "[foo]: ",
            "start": {
              "line": 0,
              "column": 0,
              "offset": 0
            },
            "end": {
              "line": 0,
              "column": 7,
              "offset": 7
            }
          },
          {
            "type": "inlineHtml",
            "start": {
              "line": 0,
              "column": 7,
              "offset": 7
            },
            "end": {
              "line": 0,
              "column": 12,
              "offset": 12
            },
            "children": [
              {
                "text": "<bar>",
                "start": {
                  "line": 0,
                  "column": 7,
                  "offset": 7
                },
                "end": {
                  "line": 0,
                  "column": 12,
                  "offset": 12
                }
              }
            ]
          },
          {
            "text": "(baz)",
            "start": {
              "line": 0,
              "column": 12,
              "offset": 12
            },
            "end": {
              "line": 0,
              "column": 17,
              "offset": 17
            }
          }
        ]
      },
      {
        "type": "paragraph",
        "start": {
          "line": 2,
          "column": 0,
          "offset": 19
        },
        "end": {
          "line": 2,
          "column": 5,
          "offset": 24
        },
        "children": [
          {
            "text": "[foo]",
            "start": {
              "line": 2,
              "column": 0,
              "offset": 19
            },
            "end": {
              "line": 2,
              "column": 5,
              "offset": 24
            }
          }
        ]
      }
    ]
  },
  {
    "description": "Link reference definitions, https://github.github.com/gfm/#example-171",
    "markdown": "[foo]: /url\\bar\\*baz \"foo\\\"bar\\baz\"\n\n[foo]\n",
    "expected": [
      {
        "type": "linkReferenceDefinition",
        "start": {
          "line": 0,
          "column": 0,
          "offset": 0
        },
        "end": {
          "line": 0,
          "column": 35,
          "offset": 35
        },
        "markers": [
          {
            "start": {
              "line": 0,
              "column": 0,
              "offset": 0
            },
            "end": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "text": "["
          },
          {
            "start": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "end": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "text": "]"
          },
          {
            "start": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "end": {
              "line": 0,
              "column": 6,
              "offset": 6
            },
            "text": ":"
          },
          {
            "start": {
              "line": 0,
              "column": 7,
              "offset": 7
            },
            "end": {
              "line": 0,
              "column": 20,
              "offset": 20
            },
            "text": "/url\\bar\\*baz"
          },
          {
            "start": {
              "line": 0,
              "column": 15,
              "offset": 15
            },
            "end": {
              "line": 0,
              "column": 16,
              "offset": 16
            },
            "text": "\\"
          },
          {
            "start": {
              "line": 0,
              "column": 21,
              "offset": 21
            },
            "end": {
              "line": 0,
              "column": 22,
              "offset": 22
            },
            "text": "\""
          },
          {
            "start": {
              "line": 0,
              "column": 22,
              "offset": 22
            },
            "end": {
              "line": 0,
              "column": 34,
              "offset": 34
            },
            "text": "foo\\\"bar\\baz"
          },
          {
            "start": {
              "line": 0,
              "column": 34,
              "offset": 34
            },
            "end": {
              "line": 0,
              "column": 35,
              "offset": 35
            },
            "text": "\""
          },
          {
            "start": {
              "line": 0,
              "column": 25,
              "offset": 25
            },
            "end": {
              "line": 0,
              "column": 26,
              "offset": 26
            },
            "text": "\\"
          }
        ],
        "children": [
          {
            "type": "linkReferenceDefinitionLabel",
            "start": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "end": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 0,
                  "column": 1,
                  "offset": 1
                },
                "end": {
                  "line": 0,
                  "column": 4,
                  "offset": 4
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionDestination",
            "start": {
              "line": 0,
              "column": 7,
              "offset": 7
            },
            "end": {
              "line": 0,
              "column": 20,
              "offset": 20
            },
            "children": [
              {
                "text": "/url\\bar\\*baz",
                "start": {
                  "line": 0,
                  "column": 7,
                  "offset": 7
                },
                "end": {
                  "line": 0,
                  "column": 20,
                  "offset": 20
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionTitle",
            "start": {
              "line": 0,
              "column": 22,
              "offset": 22
            },
            "end": {
              "line": 0,
              "column": 34,
              "offset": 34
            },
            "children": [
              {
                "text": "foo\\\"bar\\baz",
                "start": {
                  "line": 0,
                  "column": 22,
                  "offset": 22
                },
                "end": {
                  "line": 0,
                  "column": 34,
                  "offset": 34
                }
              }
            ]
          }
        ]
      },
      {
        "type": "paragraph",
        "start": {
          "line": 2,
          "column": 0,
          "offset": 37
        },
        "end": {
          "line": 2,
          "column": 5,
          "offset": 42
        },
        "children": [
          {
            "type": "link",
            "start": {
              "line": 2,
              "column": 0,
              "offset": 37
            },
            "end": {
              "line": 2,
              "column": 5,
              "offset": 42
            },
            "markers": [
              {
                "start": {
                  "line": 2,
                  "column": 0,
                  "offset": 37
                },
                "end": {
                  "line": 2,
                  "column": 1,
                  "offset": 38
                },
                "text": "["
              },
              {
                "start": {
                  "line": 2,
                  "column": 4,
                  "offset": 41
                },
                "end": {
                  "line": 2,
                  "column": 5,
                  "offset": 42
                },
                "text": "]"
              }
            ],
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 2,
                  "column": 1,
                  "offset": 38
                },
                "end": {
                  "line": 2,
                  "column": 4,
                  "offset": 41
                }
              }
            ],
            "attributes": {
              "destination": "/url%5Cbar*baz",
              "title": "foo&quot;bar\\baz"
            }
          }
        ]
      }
    ]
  },
  {
    "description": "Link reference definitions, https://github.github.com/gfm/#example-172",
    "markdown": "[foo]\n\n[foo]: url\n",
    "expected": [
      {
        "type": "paragraph",
        "start": {
          "line": 0,
          "column": 0,
          "offset": 0
        },
        "end": {
          "line": 0,
          "column": 5,
          "offset": 5
        },
        "children": [
          {
            "type": "link",
            "start": {
              "line": 0,
              "column": 0,
              "offset": 0
            },
            "end": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "markers": [
              {
                "start": {
                  "line": 0,
                  "column": 0,
                  "offset": 0
                },
                "end": {
                  "line": 0,
                  "column": 1,
                  "offset": 1
                },
                "text": "["
              },
              {
                "start": {
                  "line": 0,
                  "column": 4,
                  "offset": 4
                },
                "end": {
                  "line": 0,
                  "column": 5,
                  "offset": 5
                },
                "text": "]"
              }
            ],
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 0,
                  "column": 1,
                  "offset": 1
                },
                "end": {
                  "line": 0,
                  "column": 4,
                  "offset": 4
                }
              }
            ],
            "attributes": {
              "destination": "url"
            }
          }
        ]
      },
      {
        "type": "linkReferenceDefinition",
        "start": {
          "line": 2,
          "column": 0,
          "offset": 7
        },
        "end": {
          "line": 2,
          "column": 10,
          "offset": 17
        },
        "markers": [
          {
            "start": {
              "line": 2,
              "column": 0,
              "offset": 7
            },
            "end": {
              "line": 2,
              "column": 1,
              "offset": 8
            },
            "text": "["
          },
          {
            "start": {
              "line": 2,
              "column": 4,
              "offset": 11
            },
            "end": {
              "line": 2,
              "column": 5,
              "offset": 12
            },
            "text": "]"
          },
          {
            "start": {
              "line": 2,
              "column": 5,
              "offset": 12
            },
            "end": {
              "line": 2,
              "column": 6,
              "offset": 13
            },
            "text": ":"
          },
          {
            "start": {
              "line": 2,
              "column": 7,
              "offset": 14
            },
            "end": {
              "line": 2,
              "column": 10,
              "offset": 17
            },
            "text": "url"
          }
        ],
        "children": [
          {
            "type": "linkReferenceDefinitionLabel",
            "start": {
              "line": 2,
              "column": 1,
              "offset": 8
            },
            "end": {
              "line": 2,
              "column": 4,
              "offset": 11
            },
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 2,
                  "column": 1,
                  "offset": 8
                },
                "end": {
                  "line": 2,
                  "column": 4,
                  "offset": 11
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionDestination",
            "start": {
              "line": 2,
              "column": 7,
              "offset": 14
            },
            "end": {
              "line": 2,
              "column": 10,
              "offset": 17
            },
            "children": [
              {
                "text": "url",
                "start": {
                  "line": 2,
                  "column": 7,
                  "offset": 14
                },
                "end": {
                  "line": 2,
                  "column": 10,
                  "offset": 17
                }
              }
            ]
          }
        ]
      }
    ]
  },
  {
    "description": "Link reference definitions, https://github.github.com/gfm/#example-173",
    "markdown": "[foo]\n\n[foo]: first\n[foo]: second\n",
    "expected": [
      {
        "type": "paragraph",
        "start": {
          "line": 0,
          "column": 0,
          "offset": 0
        },
        "end": {
          "line": 0,
          "column": 5,
          "offset": 5
        },
        "children": [
          {
            "type": "link",
            "start": {
              "line": 0,
              "column": 0,
              "offset": 0
            },
            "end": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "markers": [
              {
                "start": {
                  "line": 0,
                  "column": 0,
                  "offset": 0
                },
                "end": {
                  "line": 0,
                  "column": 1,
                  "offset": 1
                },
                "text": "["
              },
              {
                "start": {
                  "line": 0,
                  "column": 4,
                  "offset": 4
                },
                "end": {
                  "line": 0,
                  "column": 5,
                  "offset": 5
                },
                "text": "]"
              }
            ],
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 0,
                  "column": 1,
                  "offset": 1
                },
                "end": {
                  "line": 0,
                  "column": 4,
                  "offset": 4
                }
              }
            ],
            "attributes": {
              "destination": "first"
            }
          }
        ]
      },
      {
        "type": "linkReferenceDefinition",
        "start": {
          "line": 2,
          "column": 0,
          "offset": 7
        },
        "end": {
          "line": 2,
          "column": 12,
          "offset": 19
        },
        "markers": [
          {
            "start": {
              "line": 2,
              "column": 0,
              "offset": 7
            },
            "end": {
              "line": 2,
              "column": 1,
              "offset": 8
            },
            "text": "["
          },
          {
            "start": {
              "line": 2,
              "column": 4,
              "offset": 11
            },
            "end": {
              "line": 2,
              "column": 5,
              "offset": 12
            },
            "text": "]"
          },
          {
            "start": {
              "line": 2,
              "column": 5,
              "offset": 12
            },
            "end": {
              "line": 2,
              "column": 6,
              "offset": 13
            },
            "text": ":"
          },
          {
            "start": {
              "line": 2,
              "column": 7,
              "offset": 14
            },
            "end": {
              "line": 2,
              "column": 12,
              "offset": 19
            },
            "text": "first"
          }
        ],
        "children": [
          {
            "type": "linkReferenceDefinitionLabel",
            "start": {
              "line": 2,
              "column": 1,
              "offset": 8
            },
            "end": {
              "line": 2,
              "column": 4,
              "offset": 11
            },
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 2,
                  "column": 1,
                  "offset": 8
                },
                "end": {
                  "line": 2,
                  "column": 4,
                  "offset": 11
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionDestination",
            "start": {
              "line": 2,
              "column": 7,
              "offset": 14
            },
            "end": {
              "line": 2,
              "column": 12,
              "offset": 19
            },
            "children": [
              {
                "text": "first",
                "start": {
                  "line": 2,
                  "column": 7,
                  "offset": 14
                },
                "end": {
                  "line": 2,
                  "column": 12,
                  "offset": 19
                }
              }
            ]
          }
        ]
      },
      {
        "type": "linkReferenceDefinition",
        "start": {
          "line": 3,
          "column": 0,
          "offset": 20
        },
        "end": {
          "line": 3,
          "column": 13,
          "offset": 33
        },
        "markers": [
          {
            "start": {
              "line": 3,
              "column": 0,
              "offset": 20
            },
            "end": {
              "line": 3,
              "column": 1,
              "offset": 21
            },
            "text": "["
          },
          {
            "start": {
              "line": 3,
              "column": 4,
              "offset": 24
            },
            "end": {
              "line": 3,
              "column": 5,
              "offset": 25
            },
            "text": "]"
          },
          {
            "start": {
              "line": 3,
              "column": 5,
              "offset": 25
            },
            "end": {
              "line": 3,
              "column": 6,
              "offset": 26
            },
            "text": ":"
          },
          {
            "start": {
              "line": 3,
              "column": 7,
              "offset": 27
            },
            "end": {
              "line": 3,
              "column": 13,
              "offset": 33
            },
            "text": "second"
          }
        ],
        "children": [
          {
            "type": "linkReferenceDefinitionLabel",
            "start": {
              "line": 3,
              "column": 1,
              "offset": 21
            },
            "end": {
              "line": 3,
              "column": 4,
              "offset": 24
            },
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 3,
                  "column": 1,
                  "offset": 21
                },
                "end": {
                  "line": 3,
                  "column": 4,
                  "offset": 24
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionDestination",
            "start": {
              "line": 3,
              "column": 7,
              "offset": 27
            },
            "end": {
              "line": 3,
              "column": 13,
              "offset": 33
            },
            "children": [
              {
                "text": "second",
                "start": {
                  "line": 3,
                  "column": 7,
                  "offset": 27
                },
                "end": {
                  "line": 3,
                  "column": 13,
                  "offset": 33
                }
              }
            ]
          }
        ]
      }
    ]
  },
  {
    "description": "Link reference definitions, https://github.github.com/gfm/#example-174",
    "markdown": "[FOO]: /url\n\n[Foo]\n",
    "expected": [
      {
        "type": "linkReferenceDefinition",
        "start": {
          "line": 0,
          "column": 0,
          "offset": 0
        },
        "end": {
          "line": 0,
          "column": 11,
          "offset": 11
        },
        "markers": [
          {
            "start": {
              "line": 0,
              "column": 0,
              "offset": 0
            },
            "end": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "text": "["
          },
          {
            "start": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "end": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "text": "]"
          },
          {
            "start": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "end": {
              "line": 0,
              "column": 6,
              "offset": 6
            },
            "text": ":"
          },
          {
            "start": {
              "line": 0,
              "column": 7,
              "offset": 7
            },
            "end": {
              "line": 0,
              "column": 11,
              "offset": 11
            },
            "text": "/url"
          }
        ],
        "children": [
          {
            "type": "linkReferenceDefinitionLabel",
            "start": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "end": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "children": [
              {
                "text": "FOO",
                "start": {
                  "line": 0,
                  "column": 1,
                  "offset": 1
                },
                "end": {
                  "line": 0,
                  "column": 4,
                  "offset": 4
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionDestination",
            "start": {
              "line": 0,
              "column": 7,
              "offset": 7
            },
            "end": {
              "line": 0,
              "column": 11,
              "offset": 11
            },
            "children": [
              {
                "text": "/url",
                "start": {
                  "line": 0,
                  "column": 7,
                  "offset": 7
                },
                "end": {
                  "line": 0,
                  "column": 11,
                  "offset": 11
                }
              }
            ]
          }
        ]
      },
      {
        "type": "paragraph",
        "start": {
          "line": 2,
          "column": 0,
          "offset": 13
        },
        "end": {
          "line": 2,
          "column": 5,
          "offset": 18
        },
        "children": [
          {
            "type": "link",
            "start": {
              "line": 2,
              "column": 0,
              "offset": 13
            },
            "end": {
              "line": 2,
              "column": 5,
              "offset": 18
            },
            "markers": [
              {
                "start": {
                  "line": 2,
                  "column": 0,
                  "offset": 13
                },
                "end": {
                  "line": 2,
                  "column": 1,
                  "offset": 14
                },
                "text": "["
              },
              {
                "start": {
                  "line": 2,
                  "column": 4,
                  "offset": 17
                },
                "end": {
                  "line": 2,
                  "column": 5,
                  "offset": 18
                },
                "text": "]"
              }
            ],
            "children": [
              {
                "text": "Foo",
                "start": {
                  "line": 2,
                  "column": 1,
                  "offset": 14
                },
                "end": {
                  "line": 2,
                  "column": 4,
                  "offset": 17
                }
              }
            ],
            "attributes": {
              "destination": "/url"
            }
          }
        ]
      }
    ]
  },
  {
    "description": "Link reference definitions, https://github.github.com/gfm/#example-175",
    "markdown": "[]: /\n\n[]\n",
    "expected": [
      {
        "type": "linkReferenceDefinition",
        "start": {
          "line": 0,
          "column": 0,
          "offset": 0
        },
        "end": {
          "line": 0,
          "column": 11,
          "offset": 11
        },
        "markers": [
          {
            "start": {
              "line": 0,
              "column": 0,
              "offset": 0
            },
            "end": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "text": "["
          },
          {
            "start": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "end": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "text": "]"
          },
          {
            "start": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "end": {
              "line": 0,
              "column": 6,
              "offset": 6
            },
            "text": ":"
          },
          {
            "start": {
              "line": 0,
              "column": 7,
              "offset": 7
            },
            "end": {
              "line": 0,
              "column": 11,
              "offset": 11
            },
            "text": "/"
          }
        ],
        "children": [
          {
            "type": "linkReferenceDefinitionLabel",
            "start": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "end": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "children": [
              {
                "text": "",
                "start": {
                  "line": 0,
                  "column": 1,
                  "offset": 1
                },
                "end": {
                  "line": 0,
                  "column": 4,
                  "offset": 4
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionDestination",
            "start": {
              "line": 0,
              "column": 7,
              "offset": 7
            },
            "end": {
              "line": 0,
              "column": 11,
              "offset": 11
            },
            "children": [
              {
                "text": "/",
                "start": {
                  "line": 0,
                  "column": 7,
                  "offset": 7
                },
                "end": {
                  "line": 0,
                  "column": 11,
                  "offset": 11
                }
              }
            ]
          }
        ]
      },
      {
        "type": "paragraph",
        "start": {
          "line": 2,
          "column": 0,
          "offset": 13
        },
        "end": {
          "line": 2,
          "column": 5,
          "offset": 18
        },
        "children": [
          {
            "type": "link",
            "start": {
              "line": 2,
              "column": 0,
              "offset": 13
            },
            "end": {
              "line": 2,
              "column": 5,
              "offset": 18
            },
            "markers": [
              {
                "start": {
                  "line": 2,
                  "column": 0,
                  "offset": 13
                },
                "end": {
                  "line": 2,
                  "column": 1,
                  "offset": 14
                },
                "text": "["
              },
              {
                "start": {
                  "line": 2,
                  "column": 4,
                  "offset": 17
                },
                "end": {
                  "line": 2,
                  "column": 5,
                  "offset": 18
                },
                "text": "]"
              }
            ],
            "children": [
              {
                "text": "",
                "start": {
                  "line": 2,
                  "column": 1,
                  "offset": 14
                },
                "end": {
                  "line": 2,
                  "column": 4,
                  "offset": 17
                }
              }
            ],
            "attributes": {
              "destination": "/%CF%86%CE%BF%CF%85"
            }
          }
        ]
      }
    ]
  },
  {
    "description": "Link reference definitions, https://github.github.com/gfm/#example-176",
    "markdown": "[foo]: /url\n",
    "expected": [
      {
        "type": "linkReferenceDefinition",
        "start": {
          "line": 0,
          "column": 0,
          "offset": 0
        },
        "end": {
          "line": 0,
          "column": 11,
          "offset": 11
        },
        "markers": [
          {
            "start": {
              "line": 0,
              "column": 0,
              "offset": 0
            },
            "end": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "text": "["
          },
          {
            "start": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "end": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "text": "]"
          },
          {
            "start": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "end": {
              "line": 0,
              "column": 6,
              "offset": 6
            },
            "text": ":"
          },
          {
            "start": {
              "line": 0,
              "column": 7,
              "offset": 7
            },
            "end": {
              "line": 0,
              "column": 11,
              "offset": 11
            },
            "text": "/url"
          }
        ],
        "children": [
          {
            "type": "linkReferenceDefinitionLabel",
            "start": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "end": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 0,
                  "column": 1,
                  "offset": 1
                },
                "end": {
                  "line": 0,
                  "column": 4,
                  "offset": 4
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionDestination",
            "start": {
              "line": 0,
              "column": 7,
              "offset": 7
            },
            "end": {
              "line": 0,
              "column": 11,
              "offset": 11
            },
            "children": [
              {
                "text": "/url",
                "start": {
                  "line": 0,
                  "column": 7,
                  "offset": 7
                },
                "end": {
                  "line": 0,
                  "column": 11,
                  "offset": 11
                }
              }
            ]
          }
        ]
      }
    ]
  },
  {
    "description": "Link reference definitions, https://github.github.com/gfm/#example-177",
    "markdown": "[\nfoo\n]: /url\nbar\n",
    "expected": [
      {
        "type": "linkReferenceDefinition",
        "start": {
          "line": 0,
          "column": 0,
          "offset": 0
        },
        "end": {
          "line": 2,
          "column": 7,
          "offset": 13
        },
        "markers": [
          {
            "start": {
              "line": 0,
              "column": 0,
              "offset": 0
            },
            "end": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "text": "["
          },
          {
            "start": {
              "line": 2,
              "column": 0,
              "offset": 6
            },
            "end": {
              "line": 2,
              "column": 1,
              "offset": 7
            },
            "text": "]"
          },
          {
            "start": {
              "line": 2,
              "column": 1,
              "offset": 7
            },
            "end": {
              "line": 2,
              "column": 2,
              "offset": 8
            },
            "text": ":"
          },
          {
            "start": {
              "line": 2,
              "column": 3,
              "offset": 9
            },
            "end": {
              "line": 2,
              "column": 7,
              "offset": 13
            },
            "text": "/url"
          }
        ],
        "children": [
          {
            "type": "linkReferenceDefinitionLabel",
            "start": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "end": {
              "line": 2,
              "column": 0,
              "offset": 6
            },
            "children": [
              {
                "text": "\n",
                "start": {
                  "line": 0,
                  "column": 1,
                  "offset": 1
                },
                "end": {
                  "line": 1,
                  "column": 0,
                  "offset": 2
                }
              },
              {
                "text": "foo",
                "start": {
                  "line": 1,
                  "column": 0,
                  "offset": 2
                },
                "end": {
                  "line": 1,
                  "column": 3,
                  "offset": 5
                }
              },
              {
                "text": "\n",
                "start": {
                  "line": 1,
                  "column": 3,
                  "offset": 5
                },
                "end": {
                  "line": 2,
                  "column": 0,
                  "offset": 6
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionDestination",
            "start": {
              "line": 2,
              "column": 3,
              "offset": 9
            },
            "end": {
              "line": 2,
              "column": 7,
              "offset": 13
            },
            "children": [
              {
                "text": "/url",
                "start": {
                  "line": 2,
                  "column": 3,
                  "offset": 9
                },
                "end": {
                  "line": 2,
                  "column": 7,
                  "offset": 13
                }
              }
            ]
          }
        ]
      },
      {
        "type": "paragraph",
        "start": {
          "line": 3,
          "column": 0,
          "offset": 14
        },
        "end": {
          "line": 3,
          "column": 3,
          "offset": 17
        },
        "children": [
          {
            "text": "bar",
            "start": {
              "line": 3,
              "column": 0,
              "offset": 14
            },
            "end": {
              "line": 3,
              "column": 3,
              "offset": 17
            }
          }
        ]
      }
    ]
  },
  {
    "description": "Link reference definitions, https://github.github.com/gfm/#example-178",
    "markdown": "[foo]: /url \"title\" ok\n",
    "expected": [
      {
        "type": "paragraph",
        "start": {
          "line": 0,
          "column": 0,
          "offset": 0
        },
        "end": {
          "line": 0,
          "column": 22,
          "offset": 22
        },
        "children": [
          {
            "text": "[foo]: /url \"title\" ok",
            "start": {
              "line": 0,
              "column": 0,
              "offset": 0
            },
            "end": {
              "line": 0,
              "column": 22,
              "offset": 22
            }
          }
        ]
      }
    ]
  },
  {
    "description": "Link reference definitions, https://github.github.com/gfm/#example-179",
    "markdown": "[foo]: /url\n\"title\" ok\n",
    "expected": [
      {
        "type": "linkReferenceDefinition",
        "start": {
          "line": 0,
          "column": 0,
          "offset": 0
        },
        "end": {
          "line": 1,
          "column": 7,
          "offset": 19
        },
        "markers": [
          {
            "start": {
              "line": 0,
              "column": 0,
              "offset": 0
            },
            "end": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "text": "["
          },
          {
            "start": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "end": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "text": "]"
          },
          {
            "start": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "end": {
              "line": 0,
              "column": 6,
              "offset": 6
            },
            "text": ":"
          },
          {
            "start": {
              "line": 0,
              "column": 7,
              "offset": 7
            },
            "end": {
              "line": 0,
              "column": 11,
              "offset": 11
            },
            "text": "/url"
          },
          {
            "start": {
              "line": 1,
              "column": 0,
              "offset": 12
            },
            "end": {
              "line": 1,
              "column": 1,
              "offset": 13
            },
            "text": "\""
          },
          {
            "start": {
              "line": 1,
              "column": 1,
              "offset": 13
            },
            "end": {
              "line": 1,
              "column": 6,
              "offset": 18
            },
            "text": "title"
          },
          {
            "start": {
              "line": 1,
              "column": 6,
              "offset": 18
            },
            "end": {
              "line": 1,
              "column": 7,
              "offset": 19
            },
            "text": "\""
          }
        ],
        "children": [
          {
            "type": "linkReferenceDefinitionLabel",
            "start": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "end": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 0,
                  "column": 1,
                  "offset": 1
                },
                "end": {
                  "line": 0,
                  "column": 4,
                  "offset": 4
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionDestination",
            "start": {
              "line": 0,
              "column": 7,
              "offset": 7
            },
            "end": {
              "line": 0,
              "column": 11,
              "offset": 11
            },
            "children": [
              {
                "text": "/url",
                "start": {
                  "line": 0,
                  "column": 7,
                  "offset": 7
                },
                "end": {
                  "line": 0,
                  "column": 11,
                  "offset": 11
                }
              }
            ]
          }
        ]
      },
      {
        "type": "paragraph",
        "start": {
          "line": 1,
          "column": 0,
          "offset": 12
        },
        "end": {
          "line": 1,
          "column": 10,
          "offset": 22
        },
        "children": [
          {
            "text": "\"title\" ok",
            "start": {
              "line": 1,
              "column": 0,
              "offset": 12
            },
            "end": {
              "line": 1,
              "column": 10,
              "offset": 22
            }
          }
        ]
      }
    ]
  },
  {
    "description": "Link reference definitions, https://github.github.com/gfm/#example-180",
    "markdown": "    [foo]: /url \"title\"\n\n[foo]\n",
    "expected": [
      {
        "type": "codeBlock",
        "start": {
          "line": 0,
          "column": 4,
          "offset": 4
        },
        "end": {
          "line": 1,
          "column": 0,
          "offset": 24
        },
        "children": [
          {
            "text": "[foo]: /url \"title\"\n",
            "start": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "end": {
              "line": 1,
              "column": 0,
              "offset": 24
            }
          }
        ]
      },
      {
        "type": "paragraph",
        "start": {
          "line": 2,
          "column": 0,
          "offset": 25
        },
        "end": {
          "line": 2,
          "column": 5,
          "offset": 30
        },
        "children": [
          {
            "text": "[foo]",
            "start": {
              "line": 2,
              "column": 0,
              "offset": 25
            },
            "end": {
              "line": 2,
              "column": 5,
              "offset": 30
            }
          }
        ]
      }
    ]
  },
  {
    "description": "Link reference definitions, https://github.github.com/gfm/#example-181",
    "markdown": "```\n[foo]: /url\n```\n\n[foo]\n",
    "expected": [
      {
        "type": "codeBlock",
        "start": {
          "line": 0,
          "column": 0,
          "offset": 0
        },
        "end": {
          "line": 2,
          "column": 3,
          "offset": 19
        },
        "markers": [
          {
            "start": {
              "line": 0,
              "column": 0,
              "offset": 0
            },
            "end": {
              "line": 0,
              "column": 3,
              "offset": 3
            },
            "text": "```"
          },
          {
            "start": {
              "line": 2,
              "column": 0,
              "offset": 16
            },
            "end": {
              "line": 2,
              "column": 3,
              "offset": 19
            },
            "text": "```"
          }
        ],
        "children": [
          {
            "text": "[foo]: /url\n",
            "start": {
              "line": 1,
              "column": 0,
              "offset": 4
            },
            "end": {
              "line": 2,
              "column": 0,
              "offset": 16
            }
          }
        ]
      },
      {
        "type": "paragraph",
        "start": {
          "line": 4,
          "column": 0,
          "offset": 21
        },
        "end": {
          "line": 4,
          "column": 5,
          "offset": 26
        },
        "children": [
          {
            "text": "[foo]",
            "start": {
              "line": 4,
              "column": 0,
              "offset": 21
            },
            "end": {
              "line": 4,
              "column": 5,
              "offset": 26
            }
          }
        ]
      }
    ]
  },
  {
    "description": "Link reference definitions, https://github.github.com/gfm/#example-182",
    "markdown": "Foo\n[bar]: /baz\n\n[bar]\n",
    "expected": [
      {
        "type": "paragraph",
        "start": {
          "line": 0,
          "column": 0,
          "offset": 0
        },
        "end": {
          "line": 1,
          "column": 11,
          "offset": 15
        },
        "children": [
          {
            "text": "Foo\n[bar]: /baz",
            "start": {
              "line": 0,
              "column": 0,
              "offset": 0
            },
            "end": {
              "line": 1,
              "column": 11,
              "offset": 15
            }
          }
        ]
      },
      {
        "type": "paragraph",
        "start": {
          "line": 3,
          "column": 0,
          "offset": 17
        },
        "end": {
          "line": 3,
          "column": 5,
          "offset": 22
        },
        "children": [
          {
            "text": "[bar]",
            "start": {
              "line": 3,
              "column": 0,
              "offset": 17
            },
            "end": {
              "line": 3,
              "column": 5,
              "offset": 22
            }
          }
        ]
      }
    ]
  },
  {
    "description": "Link reference definitions, https://github.github.com/gfm/#example-183",
    "markdown": "# [Foo]\n[foo]: /url\n> bar\n",
    "expected": [
      {
        "type": "headline",
        "start": {
          "line": 0,
          "column": 0,
          "offset": 0
        },
        "end": {
          "line": 0,
          "column": 7,
          "offset": 7
        },
        "markers": [
          {
            "start": {
              "line": 0,
              "column": 0,
              "offset": 0
            },
            "end": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "text": "#"
          }
        ],
        "children": [
          {
            "type": "link",
            "start": {
              "line": 0,
              "column": 2,
              "offset": 2
            },
            "end": {
              "line": 0,
              "column": 7,
              "offset": 7
            },
            "markers": [
              {
                "start": {
                  "line": 0,
                  "column": 2,
                  "offset": 2
                },
                "end": {
                  "line": 0,
                  "column": 3,
                  "offset": 3
                },
                "text": "["
              },
              {
                "start": {
                  "line": 0,
                  "column": 6,
                  "offset": 6
                },
                "end": {
                  "line": 0,
                  "column": 7,
                  "offset": 7
                },
                "text": "]"
              }
            ],
            "children": [
              {
                "text": "Foo",
                "start": {
                  "line": 0,
                  "column": 3,
                  "offset": 3
                },
                "end": {
                  "line": 0,
                  "column": 6,
                  "offset": 6
                }
              }
            ],
            "attributes": {
              "destination": "/url"
            }
          }
        ],
        "attributes": {
          "level": "1"
        }
      },
      {
        "type": "linkReferenceDefinition",
        "start": {
          "line": 1,
          "column": 0,
          "offset": 8
        },
        "end": {
          "line": 1,
          "column": 11,
          "offset": 19
        },
        "markers": [
          {
            "start": {
              "line": 1,
              "column": 0,
              "offset": 8
            },
            "end": {
              "line": 1,
              "column": 1,
              "offset": 9
            },
            "text": "["
          },
          {
            "start": {
              "line": 1,
              "column": 4,
              "offset": 12
            },
            "end": {
              "line": 1,
              "column": 5,
              "offset": 13
            },
            "text": "]"
          },
          {
            "start": {
              "line": 1,
              "column": 5,
              "offset": 13
            },
            "end": {
              "line": 1,
              "column": 6,
              "offset": 14
            },
            "text": ":"
          },
          {
            "start": {
              "line": 1,
              "column": 7,
              "offset": 15
            },
            "end": {
              "line": 1,
              "column": 11,
              "offset": 19
            },
            "text": "/url"
          }
        ],
        "children": [
          {
            "type": "linkReferenceDefinitionLabel",
            "start": {
              "line": 1,
              "column": 1,
              "offset": 9
            },
            "end": {
              "line": 1,
              "column": 4,
              "offset": 12
            },
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 1,
                  "column": 1,
                  "offset": 9
                },
                "end": {
                  "line": 1,
                  "column": 4,
                  "offset": 12
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionDestination",
            "start": {
              "line": 1,
              "column": 7,
              "offset": 15
            },
            "end": {
              "line": 1,
              "column": 11,
              "offset": 19
            },
            "children": [
              {
                "text": "/url",
                "start": {
                  "line": 1,
                  "column": 7,
                  "offset": 15
                },
                "end": {
                  "line": 1,
                  "column": 11,
                  "offset": 19
                }
              }
            ]
          }
        ]
      },
      {
        "type": "blockquote",
        "start": {
          "line": 2,
          "column": 0,
          "offset": 20
        },
        "end": {
          "line": 2,
          "column": 5,
          "offset": 25
        },
        "markers": [
          {
            "start": {
              "line": 2,
              "column": 0,
              "offset": 20
            },
            "end": {
              "line": 2,
              "column": 1,
              "offset": 21
            },
            "text": ">"
          }
        ],
        "children": [
          {
            "type": "paragraph",
            "start": {
              "line": 2,
              "column": 2,
              "offset": 22
            },
            "end": {
              "line": 2,
              "column": 5,
              "offset": 25
            },
            "children": [
              {
                "text": "bar",
                "start": {
                  "line": 2,
                  "column": 2,
                  "offset": 22
                },
                "end": {
                  "line": 2,
                  "column": 5,
                  "offset": 25
                }
              }
            ]
          }
        ]
      }
    ]
  },
  {
    "description": "Link reference definitions, https://github.github.com/gfm/#example-184",
    "markdown": "[foo]: /url\nbar\n===\n[foo]\n",
    "expected": [
      {
        "type": "linkReferenceDefinition",
        "start": {
          "line": 0,
          "column": 0,
          "offset": 0
        },
        "end": {
          "line": 0,
          "column": 11,
          "offset": 11
        },
        "markers": [
          {
            "start": {
              "line": 0,
              "column": 0,
              "offset": 0
            },
            "end": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "text": "["
          },
          {
            "start": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "end": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "text": "]"
          },
          {
            "start": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "end": {
              "line": 0,
              "column": 6,
              "offset": 6
            },
            "text": ":"
          },
          {
            "start": {
              "line": 0,
              "column": 7,
              "offset": 7
            },
            "end": {
              "line": 0,
              "column": 11,
              "offset": 11
            },
            "text": "/url"
          }
        ],
        "children": [
          {
            "type": "linkReferenceDefinitionLabel",
            "start": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "end": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 0,
                  "column": 1,
                  "offset": 1
                },
                "end": {
                  "line": 0,
                  "column": 4,
                  "offset": 4
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionDestination",
            "start": {
              "line": 0,
              "column": 7,
              "offset": 7
            },
            "end": {
              "line": 0,
              "column": 11,
              "offset": 11
            },
            "children": [
              {
                "text": "/url",
                "start": {
                  "line": 0,
                  "column": 7,
                  "offset": 7
                },
                "end": {
                  "line": 0,
                  "column": 11,
                  "offset": 11
                }
              }
            ]
          }
        ]
      },
      {
        "type": "headline",
        "start": {
          "line": 1,
          "column": 0,
          "offset": 12
        },
        "end": {
          "line": 2,
          "column": 3,
          "offset": 19
        },
        "markers": [
          {
            "start": {
              "line": 2,
              "column": 0,
              "offset": 16
            },
            "end": {
              "line": 2,
              "column": 3,
              "offset": 19
            },
            "text": "==="
          }
        ],
        "children": [
          {
            "text": "bar",
            "start": {
              "line": 1,
              "column": 0,
              "offset": 12
            },
            "end": {
              "line": 1,
              "column": 3,
              "offset": 15
            }
          }
        ],
        "attributes": {
          "level": "1"
        }
      },
      {
        "type": "paragraph",
        "start": {
          "line": 3,
          "column": 0,
          "offset": 20
        },
        "end": {
          "line": 3,
          "column": 5,
          "offset": 25
        },
        "children": [
          {
            "type": "link",
            "start": {
              "line": 3,
              "column": 0,
              "offset": 20
            },
            "end": {
              "line": 3,
              "column": 5,
              "offset": 25
            },
            "markers": [
              {
                "start": {
                  "line": 3,
                  "column": 0,
                  "offset": 20
                },
                "end": {
                  "line": 3,
                  "column": 1,
                  "offset": 21
                },
                "text": "["
              },
              {
                "start": {
                  "line": 3,
                  "column": 4,
                  "offset": 24
                },
                "end": {
                  "line": 3,
                  "column": 5,
                  "offset": 25
                },
                "text": "]"
              }
            ],
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 3,
                  "column": 1,
                  "offset": 21
                },
                "end": {
                  "line": 3,
                  "column": 4,
                  "offset": 24
                }
              }
            ],
            "attributes": {
              "destination": "/url"
            }
          }
        ]
      }
    ]
  },
  {
    "description": "Link reference definitions, https://github.github.com/gfm/#example-185",
    "markdown": "[foo]: /url\n===\n[foo]\n",
    "expected": [
      {
        "type": "linkReferenceDefinition",
        "start": {
          "line": 0,
          "column": 0,
          "offset": 0
        },
        "end": {
          "line": 0,
          "column": 11,
          "offset": 11
        },
        "markers": [
          {
            "start": {
              "line": 0,
              "column": 0,
              "offset": 0
            },
            "end": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "text": "["
          },
          {
            "start": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "end": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "text": "]"
          },
          {
            "start": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "end": {
              "line": 0,
              "column": 6,
              "offset": 6
            },
            "text": ":"
          },
          {
            "start": {
              "line": 0,
              "column": 7,
              "offset": 7
            },
            "end": {
              "line": 0,
              "column": 11,
              "offset": 11
            },
            "text": "/url"
          }
        ],
        "children": [
          {
            "type": "linkReferenceDefinitionLabel",
            "start": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "end": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 0,
                  "column": 1,
                  "offset": 1
                },
                "end": {
                  "line": 0,
                  "column": 4,
                  "offset": 4
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionDestination",
            "start": {
              "line": 0,
              "column": 7,
              "offset": 7
            },
            "end": {
              "line": 0,
              "column": 11,
              "offset": 11
            },
            "children": [
              {
                "text": "/url",
                "start": {
                  "line": 0,
                  "column": 7,
                  "offset": 7
                },
                "end": {
                  "line": 0,
                  "column": 11,
                  "offset": 11
                }
              }
            ]
          }
        ]
      },
      {
        "type": "paragraph",
        "start": {
          "line": 1,
          "column": 0,
          "offset": 12
        },
        "end": {
          "line": 2,
          "column": 5,
          "offset": 21
        },
        "children": [
          {
            "text": "===\n",
            "start": {
              "line": 1,
              "column": 0,
              "offset": 12
            },
            "end": {
              "line": 2,
              "column": 0,
              "offset": 16
            }
          },
          {
            "type": "link",
            "start": {
              "line": 2,
              "column": 0,
              "offset": 16
            },
            "end": {
              "line": 2,
              "column": 5,
              "offset": 21
            },
            "markers": [
              {
                "start": {
                  "line": 2,
                  "column": 0,
                  "offset": 16
                },
                "end": {
                  "line": 2,
                  "column": 1,
                  "offset": 17
                },
                "text": "["
              },
              {
                "start": {
                  "line": 2,
                  "column": 4,
                  "offset": 20
                },
                "end": {
                  "line": 2,
                  "column": 5,
                  "offset": 21
                },
                "text": "]"
              }
            ],
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 2,
                  "column": 1,
                  "offset": 17
                },
                "end": {
                  "line": 2,
                  "column": 4,
                  "offset": 20
                }
              }
            ],
            "attributes": {
              "destination": "/url"
            }
          }
        ]
      }
    ]
  },
  {
    "description": "Link reference definitions, https://github.github.com/gfm/#example-186",
    "markdown": "[foo]: /foo-url \"foo\"\n[bar]: /bar-url\n  \"bar\"\n[baz]: /baz-url\n\n[foo],\n[bar],\n[baz]\n",
    "expected": [
      {
        "type": "linkReferenceDefinition",
        "start": {
          "line": 0,
          "column": 0,
          "offset": 0
        },
        "end": {
          "line": 0,
          "column": 21,
          "offset": 21
        },
        "markers": [
          {
            "start": {
              "line": 0,
              "column": 0,
              "offset": 0
            },
            "end": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "text": "["
          },
          {
            "start": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "end": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "text": "]"
          },
          {
            "start": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "end": {
              "line": 0,
              "column": 6,
              "offset": 6
            },
            "text": ":"
          },
          {
            "start": {
              "line": 0,
              "column": 7,
              "offset": 7
            },
            "end": {
              "line": 0,
              "column": 15,
              "offset": 15
            },
            "text": "/foo-url"
          },
          {
            "start": {
              "line": 0,
              "column": 16,
              "offset": 16
            },
            "end": {
              "line": 0,
              "column": 17,
              "offset": 17
            },
            "text": "\""
          },
          {
            "start": {
              "line": 0,
              "column": 17,
              "offset": 17
            },
            "end": {
              "line": 0,
              "column": 20,
              "offset": 20
            },
            "text": "foo"
          },
          {
            "start": {
              "line": 0,
              "column": 20,
              "offset": 20
            },
            "end": {
              "line": 0,
              "column": 21,
              "offset": 21
            },
            "text": "\""
          }
        ],
        "children": [
          {
            "type": "linkReferenceDefinitionLabel",
            "start": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "end": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 0,
                  "column": 1,
                  "offset": 1
                },
                "end": {
                  "line": 0,
                  "column": 4,
                  "offset": 4
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionDestination",
            "start": {
              "line": 0,
              "column": 7,
              "offset": 7
            },
            "end": {
              "line": 0,
              "column": 15,
              "offset": 15
            },
            "children": [
              {
                "text": "/foo-url",
                "start": {
                  "line": 0,
                  "column": 7,
                  "offset": 7
                },
                "end": {
                  "line": 0,
                  "column": 15,
                  "offset": 15
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionTitle",
            "start": {
              "line": 0,
              "column": 17,
              "offset": 17
            },
            "end": {
              "line": 0,
              "column": 20,
              "offset": 20
            },
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 0,
                  "column": 17,
                  "offset": 17
                },
                "end": {
                  "line": 0,
                  "column": 20,
                  "offset": 20
                }
              }
            ]
          }
        ]
      },
      {
        "type": "linkReferenceDefinition",
        "start": {
          "line": 1,
          "column": 0,
          "offset": 22
        },
        "end": {
          "line": 2,
          "column": 7,
          "offset": 45
        },
        "markers": [
          {
            "start": {
              "line": 1,
              "column": 0,
              "offset": 22
            },
            "end": {
              "line": 1,
              "column": 1,
              "offset": 23
            },
            "text": "["
          },
          {
            "start": {
              "line": 1,
              "column": 4,
              "offset": 26
            },
            "end": {
              "line": 1,
              "column": 5,
              "offset": 27
            },
            "text": "]"
          },
          {
            "start": {
              "line": 1,
              "column": 5,
              "offset": 27
            },
            "end": {
              "line": 1,
              "column": 6,
              "offset": 28
            },
            "text": ":"
          },
          {
            "start": {
              "line": 1,
              "column": 7,
              "offset": 29
            },
            "end": {
              "line": 1,
              "column": 15,
              "offset": 37
            },
            "text": "/bar-url"
          },
          {
            "start": {
              "line": 2,
              "column": 2,
              "offset": 40
            },
            "end": {
              "line": 2,
              "column": 3,
              "offset": 41
            },
            "text": "\""
          },
          {
            "start": {
              "line": 2,
              "column": 3,
              "offset": 41
            },
            "end": {
              "line": 2,
              "column": 6,
              "offset": 44
            },
            "text": "bar"
          },
          {
            "start": {
              "line": 2,
              "column": 6,
              "offset": 44
            },
            "end": {
              "line": 2,
              "column": 7,
              "offset": 45
            },
            "text": "\""
          }
        ],
        "children": [
          {
            "type": "linkReferenceDefinitionLabel",
            "start": {
              "line": 1,
              "column": 1,
              "offset": 23
            },
            "end": {
              "line": 1,
              "column": 4,
              "offset": 26
            },
            "children": [
              {
                "text": "bar",
                "start": {
                  "line": 1,
                  "column": 1,
                  "offset": 23
                },
                "end": {
                  "line": 1,
                  "column": 4,
                  "offset": 26
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionDestination",
            "start": {
              "line": 1,
              "column": 7,
              "offset": 29
            },
            "end": {
              "line": 1,
              "column": 15,
              "offset": 37
            },
            "children": [
              {
                "text": "/bar-url",
                "start": {
                  "line": 1,
                  "column": 7,
                  "offset": 29
                },
                "end": {
                  "line": 1,
                  "column": 15,
                  "offset": 37
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionTitle",
            "start": {
              "line": 2,
              "column": 3,
              "offset": 41
            },
            "end": {
              "line": 2,
              "column": 6,
              "offset": 44
            },
            "children": [
              {
                "text": "bar",
                "start": {
                  "line": 2,
                  "column": 3,
                  "offset": 41
                },
                "end": {
                  "line": 2,
                  "column": 6,
                  "offset": 44
                }
              }
            ]
          }
        ]
      },
      {
        "type": "linkReferenceDefinition",
        "start": {
          "line": 3,
          "column": 0,
          "offset": 46
        },
        "end": {
          "line": 3,
          "column": 15,
          "offset": 61
        },
        "markers": [
          {
            "start": {
              "line": 3,
              "column": 0,
              "offset": 46
            },
            "end": {
              "line": 3,
              "column": 1,
              "offset": 47
            },
            "text": "["
          },
          {
            "start": {
              "line": 3,
              "column": 4,
              "offset": 50
            },
            "end": {
              "line": 3,
              "column": 5,
              "offset": 51
            },
            "text": "]"
          },
          {
            "start": {
              "line": 3,
              "column": 5,
              "offset": 51
            },
            "end": {
              "line": 3,
              "column": 6,
              "offset": 52
            },
            "text": ":"
          },
          {
            "start": {
              "line": 3,
              "column": 7,
              "offset": 53
            },
            "end": {
              "line": 3,
              "column": 15,
              "offset": 61
            },
            "text": "/baz-url"
          }
        ],
        "children": [
          {
            "type": "linkReferenceDefinitionLabel",
            "start": {
              "line": 3,
              "column": 1,
              "offset": 47
            },
            "end": {
              "line": 3,
              "column": 4,
              "offset": 50
            },
            "children": [
              {
                "text": "baz",
                "start": {
                  "line": 3,
                  "column": 1,
                  "offset": 47
                },
                "end": {
                  "line": 3,
                  "column": 4,
                  "offset": 50
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionDestination",
            "start": {
              "line": 3,
              "column": 7,
              "offset": 53
            },
            "end": {
              "line": 3,
              "column": 15,
              "offset": 61
            },
            "children": [
              {
                "text": "/baz-url",
                "start": {
                  "line": 3,
                  "column": 7,
                  "offset": 53
                },
                "end": {
                  "line": 3,
                  "column": 15,
                  "offset": 61
                }
              }
            ]
          }
        ]
      },
      {
        "type": "paragraph",
        "start": {
          "line": 5,
          "column": 0,
          "offset": 63
        },
        "end": {
          "line": 7,
          "column": 5,
          "offset": 82
        },
        "children": [
          {
            "type": "link",
            "start": {
              "line": 5,
              "column": 0,
              "offset": 63
            },
            "end": {
              "line": 5,
              "column": 5,
              "offset": 68
            },
            "markers": [
              {
                "start": {
                  "line": 5,
                  "column": 0,
                  "offset": 63
                },
                "end": {
                  "line": 5,
                  "column": 1,
                  "offset": 64
                },
                "text": "["
              },
              {
                "start": {
                  "line": 5,
                  "column": 4,
                  "offset": 67
                },
                "end": {
                  "line": 5,
                  "column": 5,
                  "offset": 68
                },
                "text": "]"
              }
            ],
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 5,
                  "column": 1,
                  "offset": 64
                },
                "end": {
                  "line": 5,
                  "column": 4,
                  "offset": 67
                }
              }
            ],
            "attributes": {
              "destination": "/foo-url",
              "title": "foo"
            }
          },
          {
            "text": ",\n",
            "start": {
              "line": 5,
              "column": 5,
              "offset": 68
            },
            "end": {
              "line": 6,
              "column": 0,
              "offset": 70
            }
          },
          {
            "type": "link",
            "start": {
              "line": 6,
              "column": 0,
              "offset": 70
            },
            "end": {
              "line": 6,
              "column": 5,
              "offset": 75
            },
            "markers": [
              {
                "start": {
                  "line": 6,
                  "column": 0,
                  "offset": 70
                },
                "end": {
                  "line": 6,
                  "column": 1,
                  "offset": 71
                },
                "text": "["
              },
              {
                "start": {
                  "line": 6,
                  "column": 4,
                  "offset": 74
                },
                "end": {
                  "line": 6,
                  "column": 5,
                  "offset": 75
                },
                "text": "]"
              }
            ],
            "children": [
              {
                "text": "bar",
                "start": {
                  "line": 6,
                  "column": 1,
                  "offset": 71
                },
                "end": {
                  "line": 6,
                  "column": 4,
                  "offset": 74
                }
              }
            ],
            "attributes": {
              "destination": "/bar-url",
              "title": "bar"
            }
          },
          {
            "text": ",\n",
            "start": {
              "line": 6,
              "column": 5,
              "offset": 75
            },
            "end": {
              "line": 7,
              "column": 0,
              "offset": 77
            }
          },
          {
            "type": "link",
            "start": {
              "line": 7,
              "column": 0,
              "offset": 77
            },
            "end": {
              "line": 7,
              "column": 5,
              "offset": 82
            },
            "markers": [
              {
                "start": {
                  "line": 7,
                  "column": 0,
                  "offset": 77
                },
                "end": {
                  "line": 7,
                  "column": 1,
                  "offset": 78
                },
                "text": "["
              },
              {
                "start": {
                  "line": 7,
                  "column": 4,
                  "offset": 81
                },
                "end": {
                  "line": 7,
                  "column": 5,
                  "offset": 82
                },
                "text": "]"
              }
            ],
            "children": [
              {
                "text": "baz",
                "start": {
                  "line": 7,
                  "column": 1,
                  "offset": 78
                },
                "end": {
                  "line": 7,
                  "column": 4,
                  "offset": 81
                }
              }
            ],
            "attributes": {
              "destination": "/baz-url"
            }
          }
        ]
      }
    ]
  },
  {
    "description": "Link reference definitions, https://github.github.com/gfm/#example-187",
    "markdown": "[foo]\n\n> [foo]: /url\n",
    "expected": [
      {
        "type": "paragraph",
        "start": {
          "line": 0,
          "column": 0,
          "offset": 0
        },
        "end": {
          "line": 0,
          "column": 5,
          "offset": 5
        },
        "children": [
          {
            "type": "link",
            "start": {
              "line": 0,
              "column": 0,
              "offset": 0
            },
            "end": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "markers": [
              {
                "start": {
                  "line": 0,
                  "column": 0,
                  "offset": 0
                },
                "end": {
                  "line": 0,
                  "column": 1,
                  "offset": 1
                },
                "text": "["
              },
              {
                "start": {
                  "line": 0,
                  "column": 4,
                  "offset": 4
                },
                "end": {
                  "line": 0,
                  "column": 5,
                  "offset": 5
                },
                "text": "]"
              }
            ],
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 0,
                  "column": 1,
                  "offset": 1
                },
                "end": {
                  "line": 0,
                  "column": 4,
                  "offset": 4
                }
              }
            ],
            "attributes": {
              "destination": "/url"
            }
          }
        ]
      },
      {
        "type": "blockquote",
        "start": {
          "line": 2,
          "column": 0,
          "offset": 7
        },
        "end": {
          "line": 2,
          "column": 13,
          "offset": 20
        },
        "markers": [
          {
            "start": {
              "line": 2,
              "column": 0,
              "offset": 7
            },
            "end": {
              "line": 2,
              "column": 1,
              "offset": 8
            },
            "text": ">"
          }
        ],
        "children": [
          {
            "type": "linkReferenceDefinition",
            "start": {
              "line": 2,
              "column": 2,
              "offset": 9
            },
            "end": {
              "line": 2,
              "column": 13,
              "offset": 20
            },
            "markers": [
              {
                "start": {
                  "line": 2,
                  "column": 2,
                  "offset": 9
                },
                "end": {
                  "line": 2,
                  "column": 3,
                  "offset": 10
                },
                "text": "["
              },
              {
                "start": {
                  "line": 2,
                  "column": 6,
                  "offset": 13
                },
                "end": {
                  "line": 2,
                  "column": 7,
                  "offset": 14
                },
                "text": "]"
              },
              {
                "start": {
                  "line": 2,
                  "column": 7,
                  "offset": 14
                },
                "end": {
                  "line": 2,
                  "column": 8,
                  "offset": 15
                },
                "text": ":"
              },
              {
                "start": {
                  "line": 2,
                  "column": 9,
                  "offset": 16
                },
                "end": {
                  "line": 2,
                  "column": 13,
                  "offset": 20
                },
                "text": "/url"
              }
            ],
            "children": [
              {
                "type": "linkReferenceDefinitionLabel",
                "start": {
                  "line": 2,
                  "column": 3,
                  "offset": 10
                },
                "end": {
                  "line": 2,
                  "column": 6,
                  "offset": 13
                },
                "children": [
                  {
                    "text": "foo",
                    "start": {
                      "line": 2,
                      "column": 3,
                      "offset": 10
                    },
                    "end": {
                      "line": 2,
                      "column": 6,
                      "offset": 13
                    }
                  }
                ]
              },
              {
                "type": "linkReferenceDefinitionDestination",
                "start": {
                  "line": 2,
                  "column": 9,
                  "offset": 16
                },
                "end": {
                  "line": 2,
                  "column": 13,
                  "offset": 20
                },
                "children": [
                  {
                    "text": "/url",
                    "start": {
                      "line": 2,
                      "column": 9,
                      "offset": 16
                    },
                    "end": {
                      "line": 2,
                      "column": 13,
                      "offset": 20
                    }
                  }
                ]
              }
            ]
          }
        ]
      }
    ]
  },
  {
    "description": "Link reference definitions, https://github.github.com/gfm/#example-188",
    "markdown": "[foo]: /url\n",
    "expected": [
      {
        "type": "linkReferenceDefinition",
        "start": {
          "line": 0,
          "column": 0,
          "offset": 0
        },
        "end": {
          "line": 0,
          "column": 11,
          "offset": 11
        },
        "markers": [
          {
            "start": {
              "line": 0,
              "column": 0,
              "offset": 0
            },
            "end": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "text": "["
          },
          {
            "start": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "end": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "text": "]"
          },
          {
            "start": {
              "line": 0,
              "column": 5,
              "offset": 5
            },
            "end": {
              "line": 0,
              "column": 6,
              "offset": 6
            },
            "text": ":"
          },
          {
            "start": {
              "line": 0,
              "column": 7,
              "offset": 7
            },
            "end": {
              "line": 0,
              "column": 11,
              "offset": 11
            },
            "text": "/url"
          }
        ],
        "children": [
          {
            "type": "linkReferenceDefinitionLabel",
            "start": {
              "line": 0,
              "column": 1,
              "offset": 1
            },
            "end": {
              "line": 0,
              "column": 4,
              "offset": 4
            },
            "children": [
              {
                "text": "foo",
                "start": {
                  "line": 0,
                  "column": 1,
                  "offset": 1
                },
                "end": {
                  "line": 0,
                  "column": 4,
                  "offset": 4
                }
              }
            ]
          },
          {
            "type": "linkReferenceDefinitionDestination",
            "start": {
              "line": 0,
              "column": 7,
              "offset": 7
            },
            "end": {
              "line": 0,
              "column": 11,
              "offset": 11
            },
            "children": [
              {
                "text": "/url",
                "start": {
                  "line": 0,
                  "column": 7,
                  "offset": 7
                },
                "end": {
                  "line": 0,
                  "column": 11,
                  "offset": 11
                }
              }
            ]
          }
        ]
      }
    ]
  }
]
